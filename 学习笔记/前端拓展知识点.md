### 浏览器渲染过程

1. 处理HTML并构建DOM树

2. 处理CSS并构建CSSOM树

3. 将CSSOM与DOM树合并成渲染树

4. 根据渲染树进行布局（layout）,计算每个节点几何信息

5. 将节点绘制到屏幕上

   > 当浏览器遇到一个 script 标记时，DOM 构建将暂停，直至同步脚本完成执行。**所以复杂逻辑应异步执行，让DOM树先渲染出来**

### 拓展

1. css解析是从右向左，嵌套层级越深解析越慢
2. innerHTML和DocumentFragment(文档片段)可以高效批量处理dom操作，后者优点是可以劫持目标元素的所有子节点，进行虚拟dom操作，然后批量替换原dom，速度和性能远远优于直接操作 DOM



### 跨域攻击的原理

1. 在A网站登录过的用户，session可能没过期。那么用户在访问B网站时，如果B网站向A网站发生请求（跳转或者表单提交或者src请求），**就会导致使用用户的身份提交危险请求**
2. 浏览器的跨域机制似乎起不到任何作用，只能防止ajax请求



### 性能优化

![165bd6dede48dfa8](https://user-gold-cdn.xitu.io/2018/9/9/165bd6dede48dfa8?imageslim)



